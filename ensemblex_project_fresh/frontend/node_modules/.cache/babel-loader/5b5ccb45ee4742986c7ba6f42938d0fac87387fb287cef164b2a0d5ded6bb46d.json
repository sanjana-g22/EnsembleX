{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SAIMA KAPOOR\\\\Downloads\\\\ensemblex_project_fresh\\\\frontend\\\\src\\\\pages\\\\HomePage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useAuth } from '../utils/auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction PostCard({\n  p,\n  onLike,\n  onSave\n}) {\n  var _p$caption, _p$likes;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card post-card\",\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: '/post/' + p._id,\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: 'http://localhost:5000' + p.imagePath,\n        alt: \"post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 8,\n        columnNumber: 33\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginTop: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: p.author.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 10,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"muted\",\n          children: (_p$caption = p.caption) === null || _p$caption === void 0 ? void 0 : _p$caption.slice(0, 80)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 10,\n          columnNumber: 50\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 10,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'right'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: () => onLike(p._id),\n          style: {\n            marginRight: 6\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-heart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 12,\n            columnNumber: 87\n          }, this), \" \", ((_p$likes = p.likes) === null || _p$likes === void 0 ? void 0 : _p$likes.length) || 0]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 12,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: () => onSave(p._id),\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-bookmark\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 13,\n            columnNumber: 63\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 13,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 11,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 5\n  }, this);\n}\n_c = PostCard;\nexport default function HomePage() {\n  _s();\n  const {\n    api,\n    user\n  } = useAuth();\n  const [posts, setPosts] = useState([]);\n  const [q, setQ] = useState('');\n  useEffect(() => {\n    fetchPosts();\n  }, []);\n  const fetchPosts = async () => {\n    try {\n      const res = await api.get('/posts');\n      setPosts(res.data.posts);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  const like = async id => {\n    try {\n      await api.post('/posts/' + id + '/like');\n      fetchPosts();\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  const save = async id => {\n    try {\n      await api.post('/posts/' + id + '/save');\n      fetchPosts();\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  const search = async e => {\n    e.preventDefault();\n    try {\n      const res = await api.get('/posts?search=' + encodeURIComponent(q));\n      setPosts(res.data.posts);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"nav\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logo\",\n        children: \"EnsembleX\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: search,\n        style: {\n          flex: 1,\n          margin: '0 12px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Search outfits, users, tags...\",\n          value: q,\n          onChange: e => setQ(e.target.value),\n          style: {\n            width: '100%',\n            padding: 10,\n            borderRadius: 8\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: 8,\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/create\",\n          className: \"btn\",\n          children: \"Create\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: '/profile/' + ((user === null || user === void 0 ? void 0 : user.id) || ''),\n          className: \"btn\",\n          children: \"Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid\",\n      children: posts.map(p => /*#__PURE__*/_jsxDEV(PostCard, {\n        p: p,\n        onLike: like,\n        onSave: save\n      }, p._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 24\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n}\n_s(HomePage, \"CoU4ahwszXU2YxtXyD65m03ntP0=\", false, function () {\n  return [useAuth];\n});\n_c2 = HomePage;\nvar _c, _c2;\n$RefreshReg$(_c, \"PostCard\");\n$RefreshReg$(_c2, \"HomePage\");","map":{"version":3,"names":["React","useEffect","useState","Link","useAuth","jsxDEV","_jsxDEV","PostCard","p","onLike","onSave","_p$caption","_p$likes","className","children","to","_id","src","imagePath","alt","fileName","_jsxFileName","lineNumber","columnNumber","style","display","justifyContent","alignItems","marginTop","author","username","caption","slice","textAlign","onClick","marginRight","likes","length","_c","HomePage","_s","api","user","posts","setPosts","q","setQ","fetchPosts","res","get","data","err","console","error","like","id","post","save","search","e","preventDefault","encodeURIComponent","onSubmit","flex","margin","placeholder","value","onChange","target","width","padding","borderRadius","gap","map","_c2","$RefreshReg$"],"sources":["C:/Users/SAIMA KAPOOR/Downloads/ensemblex_project_fresh/frontend/src/pages/HomePage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useAuth } from '../utils/auth';\n\nfunction PostCard({ p, onLike, onSave }){\n  return (\n    <div className='card post-card'>\n      <Link to={'/post/'+p._id}><img src={'http://localhost:5000'+p.imagePath} alt='post' /></Link>\n      <div style={{display:'flex',justifyContent:'space-between',alignItems:'center',marginTop:8}}>\n        <div><strong>{p.author.username}</strong><div className='muted'>{p.caption?.slice(0,80)}</div></div>\n        <div style={{textAlign:'right'}}>\n          <button className='btn' onClick={()=>onLike(p._id)} style={{marginRight:6}}><i className='fa fa-heart'></i> {p.likes?.length||0}</button>\n          <button className='btn' onClick={()=>onSave(p._id)}><i className='fa fa-bookmark'></i></button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default function HomePage(){\n  const { api, user } = useAuth();\n  const [posts,setPosts] = useState([]);\n  const [q,setQ] = useState('');\n\n  useEffect(()=>{ fetchPosts(); },[]);\n  const fetchPosts = async ()=>{\n    try{ const res = await api.get('/posts'); setPosts(res.data.posts); }catch(err){ console.error(err); }\n  };\n  const like = async (id)=>{ try{ await api.post('/posts/'+id+'/like'); fetchPosts(); }catch(err){ console.error(err); } };\n  const save = async (id)=>{ try{ await api.post('/posts/'+id+'/save'); fetchPosts(); }catch(err){ console.error(err); } };\n  const search = async (e)=>{ e.preventDefault(); try{ const res = await api.get('/posts?search='+encodeURIComponent(q)); setPosts(res.data.posts);}catch(err){console.error(err);} }\n\n  return (\n    <div className='app'>\n      <div className='nav'>\n        <div className='logo'>EnsembleX</div>\n        <form onSubmit={search} style={{flex:1,margin:'0 12px'}}>\n          <input placeholder='Search outfits, users, tags...' value={q} onChange={e=>setQ(e.target.value)} style={{width:'100%', padding:10, borderRadius:8}} />\n        </form>\n        <div style={{display:'flex',gap:8,alignItems:'center'}}>\n          <Link to='/create' className='btn'>Create</Link>\n          <Link to={'/profile/'+(user?.id || '')} className='btn'>Profile</Link>\n        </div>\n      </div>\n\n      <div className='grid'>\n        {posts.map(p=> <PostCard key={p._id} p={p} onLike={like} onSave={save} />)}\n      </div>\n    </div>\n  )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}